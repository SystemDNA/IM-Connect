<div class="dialog-overlay" @attributes="AdditionalAttributes">
    <div class="dialog-content bg-white position-relative" style="max-width: 400px; width: 100%;height: 100%;">
    <button class="btn-close position-absolute top-0 end-0 m-3" @onclick="CloseDialog"></button>

        <ul class="nav nav-tabs p-4 pb-0" role="tablist">
        <li class="nav-item">
            <button class="nav-link @(activeTab == "emission" ? "active" : "")"
                    @onclick="@(() => SetActiveTab("emission"))" type="button">
                Emission
            </button>

        </li>
        <li class="nav-item">
            <button class="nav-link @(activeTab == "cert" ? "active" : "")"
                    @onclick="@(() => SetActiveTab("cert"))" type="button">
                Certificates
            </button>
        </li>
    </ul>

        <div class="tab-content m-0 p-0">
        @if (activeTab == "emission")
        {
            <div class="tab-pane fade show active">
                <EmissionTab />
            </div>
        }
        else if (activeTab == "cert")
        {
            <div class="tab-pane fade show active">
                <CertificatesTab />
            </div>
        }
    </div>
</div>
</div>
@code {
    [Parameter]
    public EventCallback OnClose { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object> AdditionalAttributes { get; set; }

    private string activeTab = "emission";

    private void SetActiveTab(string tab)
    {
        activeTab = tab;
    }

    private async Task CloseDialog()
    {
        if (OnClose.HasDelegate)
        {
            await OnClose.InvokeAsync();
        }
    }
}
